// ============================================
// Ebdaa v2 - Prompt Builder
// ============================================

import { ProductFormData } from '../types/ad.types'

const STYLE_GUIDE = `
ููุงุนุฏ ุงููุบุฉ โ ุตุงุฑูุฉ ุฌุฏุงู:
โ ููููุน ุงููุตุญู ุชูุงูุงู.
โ ููููุน ุงููููุงุช ุงููุณุชูููุฉ: ุฑุงุฆุนุ ูููุฒุ ุญุตุฑูุ ุงุณุชุซูุงุฆูุ ูุฑูุฏุ ููุฏู ููู.
โ ููููุน ุงูู headline ูุฒูุฏ ุนู 6 ูููุงุช.
โ ููููุน ุงูู description ุชุฒูุฏ ุนู ุฌููุฉ ูุงุญุฏุฉ.
โ ููููุน ุชูุฑุงุฑ ููุณ ุงูุฌููุฉ ูู ุฃูุซุฑ ูู ุฅุนูุงูุ ุฎูููู ูุจุฏุน.
โ ุงูุชุจ ุจุงูุนุงููุฉ ุงููุตุฑูุฉ ุงูุทุจูุนูุฉ (ูุบุฉ ููุณุจูู ูุชูู ุชูู ุงูุฐููุฉ).
โ ุงุณุชุฎุฏู ุฃุฑูุงู ุญููููุฉ ููุดุงุนุฑ ุญููููุฉ ุชููุณ ุงูุนููู.
โ ูู ุฅุนูุงู ูู ุดุฎุตูุฉ ูุฃุณููุจ ูุชุงุจุฉ ูุฎุชูู ุชูุงูุงู ุจูุงุกู ุนูู ูุนุงุฏูุฉ ุงูุฅุนูุงู.
`;

const AD_TEMPLATES = `
ุตูู 5 ุฅุนูุงูุงุช ุจูุงุกู ุนูู ุฃุดูุฑ ูุนุงุฏูุงุช ุงูุฅููุงุน ุงูุนุงูููุฉ (Copywriting Formulas).

ุงูุฒุงููุฉ 1 โ AIDA_ุงูุงูุชุจุงู_ุซู_ุงููุนู (aida):
- ุงุญุตู ุนูู ุงูุงูุชุจุงูุ ุงุฎูู ุงูุงูุชูุงูุ ุงุฑูุน ุงูุฑุบุจุฉุ ุซู ูุฏุงุก ุงูุฅุฌุฑุงุก.
- primaryText: ุงุจุฏุฃ ุจุฎุทุงู ูุฎุทู ุงูุนูู -> ุงูุชูุงู -> ุฑุบุจุฉ.
- hooks: 3 ููุงุท ุชุซูุฑ ุงูุงูุชูุงู ุงูุดุฏูุฏ.
- imageStyleName: ุชุตููุฑ ูุงูู ุณุชุงูู (Lifestyle) ุนุงูู ุงูุฌูุฏุฉ.

ุงูุฒุงููุฉ 2 โ PAS_ุงูุฃูู_ูุงูุญู (pas):
- ุงููุดููุฉ (Problem)ุ ุงูุงุณุชูุฒุงุฒ (Agitation)ุ ุงูุญู (Solution).
- primaryText: ุงุจุฏุฃ ุจุงููุดููุฉ ุงููู ุจูุนุงูู ูููุง ูุจุนุฏูุง ุถุฎูู ุงูุฃููุ ุซู ุงูุญู ุงููุจุงุดุฑ.
- hooks: 3 ุชูุงุตูู ูุฑุนุจุฉ ุนู ุงุณุชูุฑุงุฑ ุงููุดููุฉ.
- imageStyleName: ุตูุฑุฉ ููุณููุฉ ูุตููู (Split-screen) ูุนุฑุถ ุงููุดููุฉ ูุงูุญู.

ุงูุฒุงููุฉ 3 โ BAB_ูุจู_ูุจุนุฏ (bab):
- ูุจู (Before)ุ ุจุนุฏ (After)ุ ุงูุฌุณุฑ (Bridge).
- primaryText: ุฃูุตู ุญูุงุฉ ุงูุนููู ุงููุฆูุจุฉ ูุจู ุงูููุชุฌุ ุซู ุญูุงุชู ุงููุซุงููุฉ ุจุนุฏู.
- hooks: 3 ููุงุท ุจุชูุถุญ ุงููุงุฑู ุงููุฑุนุจ ุจูู ุงูุญุงูุชูู.
- imageStyleName: ุตูุฑุฉ ุชุฑูุฒ ุนูู ุชุญูู ุฌุฐุฑู ุฃู ูุชูุฌุฉ ูุจูุฑุฉ ููููุชุฌ.

ุงูุฒุงููุฉ 4 โ FAB_ุงูููุฒุงุช_ูุงูููุงูุน (fab):
- ุงูููุฒุงุช (Features)ุ ุงููุฒุงูุง (Advantages)ุ ุงูููุงูุน (Benefits).
- primaryText: ุฑูุฒ ุนูู ุชูููุฉ ุฃู ููุฒุฉ ูู ุงูููุชุฌุ ุฅุฒุงู ุจุชุดุชุบูุ ูุฅูู ุงููุงูุฏุฉ ุงูุนุธููุฉ ูููุดุชุฑู.
- hooks: 3 ููุงูุน ูุจุงุดุฑุฉ ููุญูุงุฉ ุงูููููุฉ.
- imageStyleName: ุตูุฑุฉ ูุงูุฑู (Macro) ูุฑูุจุฉ ุฌุฏุงู ุชุจุฑุฒ ุชูุงุตูู ูุฌูุฏุฉ ุงูููุชุฌ.

ุงูุฒุงููุฉ 5 โ 4U_ุงูุนุงุฌู_ูุงููููุฏ (4u):
- ูููุฏุ ุนุงุฌูุ ูุฑูุฏุ ูุญุฏุฏ ุฌุฏุงู (Useful, Urgent, Unique, Ultra-specific).
- primaryText: ุงุจุฏุฃ ุจูุนูููุฉ ูููุฏุฉ ุฌุฏุงู ูููุช ูุญุฏูุฏ ููุฑุงุฑ ุงูุดุฑุงุก ูุน ุชูุฑุฏ ูุจูุฑ.
- hooks: 3 ุฃุณุจุงุจ ุชุฎูู ุงูุนุฑุถ ุฏู ูุฑูุฏ ููุง ููููุช.
- imageStyleName: ุตูุฑุฉ ูู ุฃุนูู (Flat Lay) ุฃูููุฉ ูุน ุฃููุงู ุญูููุฉ.
`;

export function buildAdPrompt(product: ProductFormData): string {
  return `
ุฃูุช ูุงุชุจ ุฅุนูุงูุงุช ููุฎุฑุฌ ููู ูุตุฑู ูุญุชุฑูุ ุชุตูุน ุงูุญููุงุช ูููุจูุนุงุช ุงููุจุงุดุฑุฉ.

ุงูููุชุฌ:
- ุงูุงุณู: ${product.productName}
- ุงูุณุนุฑ: ${product.price}
- ุงููุงูุฏุฉ: ${product.mainBenefit}
- ุงูุฌูููุฑ: \${product.audience}ุ ุนูุฑ \${product.ageRange}
- ุงููุฆุฉ: \${product.category}
- ุงูููุฒุงููุฉ ุงููุชุงุญุฉ: \${product.budget}

\${STYLE_GUIDE}

\${AD_TEMPLATES}

ููู ุฌุฏุงู ููุตูุฑ:
ุงูุนููู ูุง ูุฑูุฏ ูุตูุตุงู ููุตูุฉ ุนูู ุงูุตูุฑ! ูุฑูุฏ ุฃู ูููู ููู ุฅุนูุงู (ุณุชุงูู ุชุตููุฑ) ูุฎุชูู ุชูุงูุงู.
ุจูุงุกู ุนูู ุทุจูุนุฉ ุงูููุชุฌุ ุงูุชุจ imagePrompt ุฏููู ูููุตู ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ (ุจุฃุณููุจ Midjourney / ุงููุตูุฑูู ุงููุญุชุฑููู) ููุชู ุชูููุฏ ุตูุฑุฉ ุฌุฐุงุจุฉ ููู ุฅุนูุงูุ ุฎุงููุฉ ูู ุฃู ูุตูุต ุฃู ุดุนุงุฑุงุช. ุงูุชุจ ุงููุตู ุจุญูุซ ูุจุฑุฒ ุงูููุชุฌ ูู ุงููุถุน ุงูุฃูุณุจ ูููุนุงุฏูุฉ.
- ูุฌุจ ุฃู ูุญุชูู imagePrompt ุนูู:
  "Professional product photo of [product name or description], [camera angle, lighting, background]. photorealistic, 8k, hyperrealistic, high-end commercial photography. STRICTLY PRESERVE product context. NO TEXT, NO LOGOS, NO WATERMARKS."

ุฑุฌุน JSON ููุท โ ุจุฏูู ุฃู ููุงู ุฎุงุฑุฌู ุฃู markdown:
{
  "ads": [
    {
      "angle": "AIDA_ุงูุงูุชุจุงู_ุซู_ุงููุนู",
      "style": "aida",
      "badgeLabel": "ุงูุชุดู ุงูุณุฑ",
      "badgeEmoji": "๐ก",
      "primaryText": "ูุต ุงููุนุงุฏูุฉ โ ุจุงูุนุงููุฉ ุงูุฐููุฉ...",
      "headline": "ุนููุงู ูุฎุทู โ 6 ูููุงุช max",
      "description": "ุฌููุฉ ุงูุชูุงู ูุงุญุฏุฉ",
      "hooks": ["ููุทุฉ ุงูุชูุงู 1", "ููุทุฉ 2", "ููุทุฉ 3"],
      "adPost": "ุงูุจูุณุช ุงููุงูู ูู AIDA ุงูุฌุงูุฒ ูููุดุฑ",
      "ctaButton": "ุงุทูุจ ุฏูููุชู",
      "hookScore": 85,
      "imagePrompt": "Professional lifestyle product photo of...",
      "imageStyleName": "ุชุตููุฑ ูุงูู ุณุชุงูู (Lifestyle)",
      "isLoading": true
    },
    {
      "angle": "PAS_ุงูุฃูู_ูุงูุญู",
      "style": "pas",
      "badgeLabel": "ุงูุญู ุงูููุงุฆู",
      "badgeEmoji": "๐จ",
      "primaryText": "ูุต ุงูุฃูู ูุงูุญู...",
      "headline": "ุนููุงู ุงูุฃูู โ 6 ูููุงุช",
      "description": "ุฌููุฉ ุงูุญู",
      "hooks": ["ุงูุฃูู 1", "ุงูุชุฃุซูุฑ 2", "ุงูุญู 3"],
      "adPost": "ุงูุจูุณุช ุงููุงูู ูู PAS",
      "ctaButton": "ุงุชุฎูุต ูู ุงููุดููุฉ",
      "hookScore": 90,
      "imagePrompt": "Professional split-screen conceptual product photo of...",
      "imageStyleName": "ุตูุฑุฉ ููููู (Split-screen)",
      "isLoading": true
    },
    {
      "angle": "BAB_ูุจู_ูุจุนุฏ",
      "style": "bab",
      "badgeLabel": "ุงูุชุญูู ุงูุฃููุฏ",
      "badgeEmoji": "โจ",
      "primaryText": "ูุต ูุจู ูุจุนุฏ...",
      "headline": "ุนููุงู ุงููุชูุฌุฉ โ 6 ูููุงุช",
      "description": "ุฌููุฉ ุงูุฌุณุฑ",
      "hooks": ["ุงูุญุงูุฉ ุงูุณูุฆุฉ", "ุงูุญุงูุฉ ุงููุซุงููุฉ", "ุงูุทุฑูู ูููุชูุฌุฉ"],
      "adPost": "ุงูุจูุณุช ุงููุงูู ูู BAB",
      "ctaButton": "ุงุจุฏุฃ ุงูุชุบููุฑ",
      "hookScore": 88,
      "imagePrompt": "Professional dramatic lighting product photo focusing on transformation...",
      "imageStyleName": "ุชุณููุท ุงูุถูุก ุงูุฏุฑุงูู",
      "isLoading": true
    },
    {
      "angle": "FAB_ุงูููุฒุงุช_ูุงูููุงูุน",
      "style": "fab",
      "badgeLabel": "ุฌูุฏุฉ ุนุงููุฉ",
      "badgeEmoji": "๐",
      "primaryText": "ูุต ุงููุฒุงูุง ูุงูููุงูุน...",
      "headline": "ุนููุงู ุงูููุฒุงุช โ 6 ูููุงุช",
      "description": "ุฌููุฉ ุงูููุงูุน",
      "hooks": ["ููุฒุฉ 1", "ููุฒุฉ 2", "ูููุนุฉ ูุจุฑู"],
      "adPost": "ุงูุจูุณุช ุงููุงูู ูู FAB",
      "ctaButton": "ุงูุชุดู ุงูุฌูุฏุฉ",
      "hookScore": 82,
      "imagePrompt": "Professional ultra macro shot of product, 8k resolution, detailed texture...",
      "imageStyleName": "ููุทุฉ ูุฑูุจุฉ ุฌุฏุงู (Macro)",
      "isLoading": true
    },
    {
      "angle": "4U_ุงูุนุงุฌู_ูุงููููุฏ",
      "style": "4u",
      "badgeLabel": "ุนุฑุถ ูุญุฏูุฏ",
      "badgeEmoji": "โฑ๏ธ",
      "primaryText": "ูุต ุงูุฅูุญุงุญ ูุงููุงุฆุฏุฉ...",
      "headline": "ุนููุงู ูุฑูุฏ โ 6 ูููุงุช",
      "description": "ุฌููุฉ ุงูุฅูุญุงุญ",
      "hooks": ["ุณุจุจ 1", "ุณุจุจ 2", "ุณุจุจ 3"],
      "adPost": "ุงูุจูุณุช ุงููุงูู ูู 4U",
      "ctaButton": "ุงุญุฌุฒ ูุจู ุงูููุงุฐ",
      "hookScore": 95,
      "imagePrompt": "Professional top-down flat lay photography of product...",
      "imageStyleName": "ุชุตููุฑ ุนููู (Flat Lay)",
      "isLoading": true
    }
  ],
  "advancedAnalysis": {
    "market": "ุดุฑูุญุฉ ุงูุณูู",
    "priceSegment": "ูุตู ุงูุณุนุฑ",
    "awareness": "ุญุงูุฉ ุงููุนู",
    "usp": "ุงูููุฒุฉ ุงูุชูุงูุณูุฉ ุงููู ุงุณุชุฎุฑุฌุชูุง",
    "hooksAnalysis": [
      {
        "angle": "AIDA_ุงูุงูุชุจุงู_ุซู_ุงููุนู",
        "score": 85,
        "tip": "ูุตูุญุฉ ุชุนุฒูุฒ ููู AIDA"
      }
    ]
  }
}
`;
}
