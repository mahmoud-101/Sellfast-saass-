// ============================================
// Ebdaa v2 - Prompt Builder
// 5 ูุฎุชููุฉ ุชูุงูุงู โ ูุง ุชูุฑุงุฑ
// ============================================

import { ProductFormData } from '../types/ad.types'

const STYLE_GUIDE = `
ููุงุนุฏ ุงููุบุฉ โ ุตุงุฑูุฉ ุฌุฏุงู:
โ ููููุน ุงููุตุญู ุฎุงูุต
โ ููููุน: ุฑุงุฆุนุ ูููุฒุ ุงุณุชุซูุงุฆูุ ูุฑูุฏุ ูุชููุฒ ุจูุ ูุชุณู ุจูุ ููุชุฌูุงุ ููุฏู ูููุ ุนุงูู ุงูุฌูุฏุฉ
โ ููููุน ุงูู headline ูุฒูุฏ ุนู 6 ูููุงุช
โ ููููุน ุงูู description ุชุฒูุฏ ุนู ุฌููุฉ ูุงุญุฏุฉ
โ ููููุน ุชูุฑุงุฑ ููุณ ุงูุฌููุฉ ูู ุฃูุชุฑ ูู ุฅุนูุงู
โ ุงูุชุจ ุจุงูุนุงููุฉ ุงููุตุฑูุฉ ุฒู ุงููุงุชุณุงุจ
โ ุงุณุชุฎุฏู ุฃุฑูุงู ุญููููุฉ ููุดุงุนุฑ ุญููููุฉ
โ ูู ุฅุนูุงู ููู ุตูุช ูุดุฎุตูุฉ ูุฎุชููุฉ ุชูุงูุงู
`

const AD_TEMPLATES = `
ุงูุฒุงููุฉ 1 โ ุชุฃุซูุฑ ุงูุฃูู (pain):
- primaryText: ูุจุฏุฃ ุจูุดููุฉ ุญููููุฉ ุจูุนุงูู ูููุง ุงูุฌูููุฑ
- headline: ุณุคุงู ุฃู ุฌููุฉ ุชููุณ ุงูุฌุฑุญ
- hooks: 3 ุฃุนุฑุงุถ ุงููุดููุฉ ุจุงูุชูุตูู
- adPost: ูุตุฉ ุฃูู -> ุญู -> CTA
- ctaButton: "ุงุทูุจ ุฏูููุชู"

ุงูุฒุงููุฉ 2 โ ุงููุงุฑู ุงูููุงุณ (compare):
- primaryText: ูุจุฏุฃ ุจููุงุฑูุฉ ุฑูููุฉ ุฃู ูุงูุนูุฉ
- headline: "VS" ุฃู "ุงููุฑู ุจูู" ุฃู "ููู"
- hooks: 3 ููุงุฑูุงุช ูุญุฏุฏุฉ ุจูู ุงูููุชุฌ ูุงูุจุฏุงุฆู
- adPost: ููุงุฑูุฉ ูุงุถุญุฉ -> ูุชูุฌุฉ -> CTA
- ctaButton: "ุงุนุฑู ุงููุฑู"

ุงูุฒุงููุฉ 3 โ ุงูุงุฏุนุงุก ุงูุฌุฑูุก (bold):
- primaryText: ุงุฏุนุงุก ุฌุฑูุก ูุตุงุฏู โ ุฑูู ุฃู ูุชูุฌุฉ ูุจุงูุบ ูููุง ุจุดูู ููุจูู
- headline: ุงุฏุนุงุก ูุจุงุดุฑ ูุฌุฑูุก ูููุงุฌุฆ
- hooks: 3 ุจุฑุงููู ุนูู ุงูุงุฏุนุงุก
- adPost: ุงุฏุนุงุก -> ุฏููู -> ุชุญุฏู -> CTA
- ctaButton: "ุฌุฑุจ ูุดูู"

ุงูุฒุงููุฉ 4 โ ุงูุชุญูู ูุงููุชูุฌุฉ (transform):
- primaryText: ูุจุฏุฃ ุจู "ุชุฎูู" ุฃู "ุจุนุฏ ุฃุณุจูุน ูุงุญุฏ"
- headline: ูุจู ูุจุนุฏ ูู ุฌููุฉ ูุงุญุฏุฉ
- hooks: 3 ุชุญููุงุช ุญููููุฉ ุจุนุฏ ุงูุงุณุชุฎุฏุงู
- adPost: ูุจู -> ุจุนุฏ -> ุดูุงุฏุฉ ูุชุฎููุฉ -> CTA
- ctaButton: "ุบููุฑ ุญูุงุชู"

ุงูุฒุงููุฉ 5 โ ุงูุฒุฎู ูุงูุฅูุญุงุญ (urgency):
- primaryText: ูุจุฏุฃ ุจู ุฑูู ูุญุฏูุฏ ุฃู ููุช ูุญุฏุฏ
- headline: urgency ุญููููุฉ ูุน ุณุนุฑ ุฃู ูููุฉ
- hooks: 3 ุฃุณุจุงุจ ููุดุฑุงุก ุฏูููุชู ูุด ุจูุฑู
- adPost: ุฅูุญุงุญ -> ุณุนุฑ -> ุถูุงู -> CTA
- ctaButton: "ุงูุญู ูุจู ูุง ูุฎูุต"
`

export function buildAdPrompt(product: ProductFormData): string {
    return `
ุฃูุช ูุงุชุจ ุฅุนูุงูุงุช ุฃุฏุงุก ูุตุฑู ูุญุชุฑูุ ุจุชูุชุจ ููููุณุจูู ูุงุฑุชูุชููุฌ.

ุงูููุชุฌ:
- ุงูุงุณู: ${product.productName}
- ุงูุณุนุฑ: ${product.price} ุฌููู
- ุงููุงูุฏุฉ: ${product.mainBenefit}
- ุงูุฌูููุฑ: ${product.audience}ุ ุนูุฑ ${product.ageRange}
- ุงููุฆุฉ: ${product.category}
- ุงูููุฒุงููุฉ ุงููุชุงุญุฉ: ${product.budget} ุฌููู/ููู

${STYLE_GUIDE}

${AD_TEMPLATES}

ููู ุฌุฏุงู:
- ูู ุฅุนูุงู ูู ุงูู 5 ูุงุฒู ูููู ูุฎุชูู ุชูุงูุงู ูู ุงูุฃุณููุจ ูุงูููุงู
- ุงูู primaryText ูู ูู ุฅุนูุงู ูุงุฒู ูุจุฏุฃ ุจุฌููุฉ ูุฎุชููุฉ ููุด ููุฑุฑุฉ
- ุงููููุงุช ูุงุฒู ุชููู 3 ููุงุท ูุฎุชููุฉ ููุญุฏุฏุฉ ููุฑุชุจุทุฉ ุจุฒุงููุฉ ุงูุฅุนูุงู

ุงุฑุฌุน ุจู JSON ููุท โ ุจุฏูู ุฃู ููุงู ุฃู markdown:
{
  "ads": [
    {
      "angle": "ุชุฃุซูุฑ_ุงูุฃูู",
      "style": "pain",
      "badgeLabel": "ูุดููุฉ ุญููููุฉ",
      "badgeEmoji": "๐จ",
      "primaryText": "ูุต ูุฎุชูู ุฎุงุต ุจุงูุฃูู โ 2-3 ุฌูู ุจุงูุนุงููุฉ",
      "headline": "ุณุคุงู ุฃู ุฌููุฉ ุฃูู โ 6 ูููุงุช max",
      "description": "ุฌููุฉ ูุตู ูุงุญุฏุฉ ุจุงูุนุงููุฉ",
      "hooks": [
        "ุนูุฑูุถ ุงููุดููุฉ ุงูุฃูู",
        "ุนูุฑูุถ ุงููุดููุฉ ุงูุซุงูู",
        "ุนูุฑูุถ ุงููุดููุฉ ุงูุซุงูุซ"
      ],
      "adPost": "ุงูุจูุณุช ุงููุงูู ุงูุฌุงูุฒ ูููุดุฑ ุนูู ููุณุจูู",
      "ctaButton": "ุงุทูุจ ุฏูููุชู",
      "hookScore": 70
    },
    {
      "angle": "ุงููุงุฑู_ุงูููุงุณ",
      "style": "compare",
      "badgeLabel": "ุงููุฑู ูุงุถุญ",
      "badgeEmoji": "โก",
      "primaryText": "ูุต ูุฎุชูู ุฎุงุต ุจุงูููุงุฑูุฉ",
      "headline": "ููุงุฑูุฉ ูู 6 ูููุงุช max",
      "description": "ุฌููุฉ ูุตู ูุฎุชููุฉ",
      "hooks": ["ููุงุฑูุฉ 1", "ููุงุฑูุฉ 2", "ููุงุฑูุฉ 3"],
      "adPost": "ุจูุณุช ูุงูู ููููุงุฑูุฉ",
      "ctaButton": "ุงุนุฑู ุงููุฑู",
      "hookScore": 61
    },
    {
      "angle": "ุงูุงุฏุนุงุก_ุงูุฌุฑูุก",
      "style": "bold",
      "badgeLabel": "ุถูุงู ุงููุชูุฌุฉ",
      "badgeEmoji": "๐ช",
      "primaryText": "ูุต ุงุฏุนุงุก ุฌุฑูุก ูุฎุชูู ุชูุงูุงู",
      "headline": "ุงุฏุนุงุก ุฌุฑูุก 6 ูููุงุช max",
      "description": "ุฌููุฉ ุฏููู ูุงุญุฏุฉ",
      "hooks": ["ุฏููู 1", "ุฏููู 2", "ุฏููู 3"],
      "adPost": "ุจูุณุช ุงุฏุนุงุก ุฌุฑูุก ูุงูู",
      "ctaButton": "ุฌุฑุจ ูุดูู",
      "hookScore": 63
    },
    {
      "angle": "ุงูุชุญูู_ูุงููุชูุฌุฉ",
      "style": "transform",
      "badgeLabel": "ุงูุชุญูู ุงูุญูููู",
      "badgeEmoji": "โจ",
      "primaryText": "ูุต ุชุญูู ูุฎุชูู ุชูุงูุงู",
      "headline": "ูุจู ูุจุนุฏ ูู 6 ูููุงุช",
      "description": "ุฌููุฉ ุชุญูู ูุงุญุฏุฉ",
      "hooks": ["ุชุญูู 1", "ุชุญูู 2", "ุชุญูู 3"],
      "adPost": "ุจูุณุช ุชุญูู ูุงูู",
      "ctaButton": "ุบููุฑ ุญูุงุชู",
      "hookScore": 60
    },
    {
      "angle": "ุงูุฒุฎู_ูุงูุฅูุญุงุญ",
      "style": "urgency",
      "badgeLabel": "ุนุฑุถ ูุญุฏูุฏ",
      "badgeEmoji": "๐ฅ",
      "primaryText": "ูุต ุฅูุญุงุญ ูุฎุชูู ุชูุงูุงู ูุน ุฑูู",
      "headline": "urgency ูุน ุณุนุฑ 6 ูููุงุช max",
      "description": "ุฌููุฉ ุฅูุญุงุญ ูุงุญุฏุฉ",
      "hooks": ["ุณุจุจ ุดุฑุงุก 1", "ุณุจุจ ุดุฑุงุก 2", "ุณุจุจ ุดุฑุงุก 3"],
      "adPost": "ุจูุณุช ุฅูุญุงุญ ูุงูู",
      "ctaButton": "ุงูุญู ูุจู ูุง ูุฎูุต",
      "hookScore": 72
    }
  ],
  "advancedAnalysis": {
    "market": "ูุตุฑู EG",
    "priceSegment": "ูุตู ุดุฑูุญุฉ ุงูุณุนุฑ",
    "awareness": "ูุณุชูู ุงููุนู ุจุงูููุชุฌ",
    "usp": "ุงูููุฒุฉ ุงูุชูุงูุณูุฉ ุงูุฃุณุงุณูุฉ",
    "hooksAnalysis": [
      {"angle": "ุชุฃุซูุฑ_ุงูุฃูู", "score": 70, "tip": "ูุตูุญุฉ ุชุญุณูู ูุตูุฑุฉ"},
      {"angle": "ุงููุงุฑู_ุงูููุงุณ", "score": 61, "tip": "ูุตูุญุฉ ุชุญุณูู ูุตูุฑุฉ"},
      {"angle": "ุงูุงุฏุนุงุก_ุงูุฌุฑูุก", "score": 63, "tip": "ูุตูุญุฉ ุชุญุณูู ูุตูุฑุฉ"},
      {"angle": "ุงูุชุญูู_ูุงููุชูุฌุฉ", "score": 60, "tip": "ูุตูุญุฉ ุชุญุณูู ูุตูุฑุฉ"},
      {"angle": "ุงูุฒุฎู_ูุงูุฅูุญุงุญ", "score": 72, "tip": "ูุตูุญุฉ ุชุญุณูู ูุตูุฑุฉ"}
    ]
  }
}
`
}
